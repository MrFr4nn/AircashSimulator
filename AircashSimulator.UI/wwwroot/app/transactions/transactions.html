<div class="panel panel-inverse">
    <div class="panel-heading ui-sortable-handle" style="justify-content: space-between;">
        <h4 class="panel-title">
            {{translations.transactions_label}}
        </h4>
        <div class="panel-title">
            <span class="label label-green panel-title">
                {{transactionReports.createdCount}} {{translations.created_report_label}} ( {{transactionReports.createdSum.toFixed(2)}} {{Currency}} )
            </span>
        </div>
        <div class="panel-title">
            <span class="label aBtnRed panel-title">
                {{transactionReports.canceledCount}} {{translations.canceled_report_label}} ( {{transactionReports.canceledSum.toFixed(2)}} {{Currency}} )
            </span>
        </div>

        <div class="panel-heading-btn">
            <button ng-click="Refresh" class="btn btn-xs btn-icon btn-circle btn-success m-r-10"
                    data-click="panel-reload">
                <i class="fa fa-redo"></i>
            </button>
            <button href="" ng-click="TogglePanel" class="btn btn-xs btn-icon btn-circle btn-warning"
                    data-click="panel-collapse">
                <i class="fa fa-minus"></i>
            </button>
        </div>
    </div>

    <div class="panel-body" style="{{panelStyle}}">
        <div>
            <div class="form-group row d-flex justify-space-around">
                <div class="col-lg-7 m-b-5 m-t-5">
                    <div class="input-group input-daterange">
                        <input type="text" class="form-control form-control-lg" id="start" placeholder="{{translations.start_date_label}}" value="{{filter.startDate | date: 'yyyy-MM-dd'}}" onchange="angular.element(this).scope().setStartDate($(this).val())" data-provide="datepicker">
                        <span class="input-group-addon">{{translations.datepicker_filter_label}}</span>
                        <input type="text" class="form-control form-control-lg" id="end" placeholder="{{translations.end_date_label}}" value="{{filter.endDate | date: 'yyyy-MM-dd'}}" onchange="angular.element(this).scope().setEndDate($(this).val())" data-provide="datepicker">
                    </div>
                </div>
                <div class="col-lg-4 m-b-5 m-t-5">
                    <input class="form-control form-control-lg" type="text"
                           placeholder="{{translations.serial_number_label}}"
                           ng-model="filter.serialNumber">
                </div>
                <div class="col-lg-1 m-b-5 m-t-5">
                    <button class="btn aBtnRed btn-lg" ng-click="Refresh()">{{translations.filter_label}}</button>
                </div>
            </div>
        </div>
        <hr />

        <div class="table-responsive" ng-if="coupons.length != 0">
            <table class="table table-sm">
                <thead>
                    <tr>
                        <th nowrap>{{translations.serial_number_label}}</th>
                        <th nowrap>{{translations.amount_label}}</th>
                        <th nowrap>{{translations.transaction_date_label}}</th>
                        <th nowrap>{{translations.status_title}}</th>
                        <th nowrap>{{translations.location_label}}</th>
                        <th nowrap></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="coupon in coupons">
                        <td>{{coupon.serialNumber}}</td>
                        <td>{{coupon.amount.toFixed(2)}} {{coupon.currency}}</td>
                        <td>{{coupon.createdOn | toLocaleTimeString | date: 'yyyy-MM-dd HH:mm:ss'}}</td>
                        <td>{{coupon.status | statusToLocale:this}}</td>
                        <td>{{coupon.locationId}}</td>
                        <td>
                            <button class="btn aBtnRed" disabled
                                    ng-if="coupon.status | isDisabled">
                                <i class="fas fa-window-close"></i>
                            </button>
                            <button class="btn aBtnRed"
                                    ng-if="!(coupon.status | isDisabled)"
                                    ng-click="OpenCancleCouponModal(coupon.transactionId, coupon.serialNumber)">
                                <i class="fas fa-window-close"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="d-flex justify-content-around">
            <button class="btn aBtnRed btn-lg" ng-click="ShowMore()">
                {{translations.load_more_label}}
            </button>
        </div>

        <div ng-if="coupons.length == 0" class="text-center">
            <p>{{translations.no_data_text}}</p>
        </div>
    </div>
</div>
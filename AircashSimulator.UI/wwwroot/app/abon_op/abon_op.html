<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
</head>
<body>
    <div style="width: 100%">
        <h1>Intro</h1>
        <br />
        <div class="row">
            <div class="col-md-12">
                <p>
                    <a href="https://abon.cash/">Aircash Abon</a> is a platform intended for users that wish to make payments to their accounts (betting sites, parking services, GSM topups etc.) via paper vouchers that can be bought at cash registers, i.e. points of sales of Aircash Sales Partners (kiosks, gas stations, etc.).
                </p>
                <p>
                    From the Online Provider's perspective: the user logs in to a website or
                    a mobile app of an Online Provider (e.g. a booking site), and chooses to
                    deposit money via an Aircash Abon voucher. He enters the 16-digit
                    code from the coupon he bought, and confirms the transaction of
                    funds to an Online Provider account. The funds are deposited to the
                    user's online account, and the coupon gets expended and can no
                    longer be used.
                </p>
                <p>
                    An example of an Aircash Abon is shown <a href="" ng-click="showCoupon()">here</a>.
                </p>
                <p>Watch video example <a href="" ng-click="showVideoAbon()">here</a>.</p>
            </div>

        </div>
        <hr />
        <h1>Technical integration aspects</h1>
        <br />
        <h4>Security and authentication</h4>
        <p>
            Aircash Abon system exposes a REST API.
        </p>
        <p>
            The API is accessed via HTTPS protocol (secured by a TLS certificate).
        </p>
        <p>
            Each request towards Aircash Abon API has to be digitally signed. This ensures non-repudiation of every request, as well as authentication.
        </p>
        <p>
            Certificate used for signing are generated as described in the <a href="https://dev-simulator.aircash.eu/#!/app/signature">Signature</a> chapter.
        </p>
        <p>
            Each method has a special ProviderId parameter. This is a GUID type parameter that's generated by the Aircash team and delivered to each Online Provider separately.
        </p>
        <p>
            The partners are provided with an integration environment (staging) where it is possible to test all of the
            methods for integration. Integration details of the Abon services are described in
            detail in the following chapters.
        </p>

        <br />
        <h4>Checkbox – I accept Abon Terms & Conditions</h4>
        <p>
            In order for the users to use Abon services on the Online Provider's website, they have to accept the
            terms and conditions beforehand.
        </p>
        <p>
            Every Online Provider is obliged to add a checkbox for the Abon terms and conditions, which is by
            default always checked.
        </p>
        <p>
            The checkbox has to contain a link to Abon Terms and Conditions:
        </p>
        <div class="note note-gray-400 col-md-8">
            <div class="note-content">
                <code>
                    &lta href="https://abon.cash/terms-conditions-en/" rel="nofollow"&gtI accept the Abon Terms&Conditions&lt/a&gt
                </code>
            </div>
        </div>

        <hr />

        <h1>Online Provider API</h1>
        <br />
        <h4>ValidateCoupon</h4>
        <p>
            ValidateCoupon method allows you to check the coupon status, value and whether it is valid. Once you
            check the coupon validity and in case it is valid, you can call the ConfirmTransaction method to use that
            coupon.
        </p>

        <div class="table-responsive">
            <table class="table table-active col-md-6">
                <thead>
                    <tr>
                        <th>Environment</th>
                        <th>Method</th>
                        <th>URL</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><b>Test</b></td>
                        <td>
                            POST
                        </td>
                        <td>https://staging-a-bon.aircash.eu/rest/api/OnlineProvider/ValidateCoupon</td>
                    </tr>
                    <tr>
                        <td><b>Production</b></td>
                        <td>
                            POST
                        </td>
                        <td>https://a-bon.aircash.eu/rest/api/OnlineProvider/ValidateCoupon</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <br />
        <uib-tabset active="active">
            <uib-tab index="request-tab-0" heading="Request parameters" classes="nav-item">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Parameters</th>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Required</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><b>CouponCode</b></td>
                                <td>string</td>
                                <td>
                                    16 digit coupon code that the user enters in the Merchant's web interface
                                </td>
                                <td>YES</td>
                            </tr>
                            <tr>
                                <td><b>PhoneNumber</b></td>
                                <td>string</td>
                                <td>
                                    User’s phone number. Phone number must be in MSISDN format. Eg. 3859812345678
                                    (State Number 385, number of operators 98, number of users 1234567)
                                </td>
                                <td>
                                    YES,
                                    conditionally
                                </td>
                            </tr>
                            <tr>
                                <td><b>ProviderTransactionId</b></td>
                                <td>string</td>
                                <td>
                                    Transaction identifier in the Online Provider system
                                </td>
                                <td>
                                    YES,
                                    conditionally
                                </td>
                            </tr>
                            <tr>
                                <td><b>ProviderId</b></td>
                                <td>string</td>
                                <td>
                                    Unique partner identifier (per currency) provided by Aircash
                                </td>
                                <td>YES</td>
                            </tr>
                            <tr>
                                <td><b>Signature</b></td>
                                <td>string</td>
                                <td>
                                    A sequence that has been digitally signed with the
                                    Merchant's private signature, used for authentication
                                </td>
                                <td>YES</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </uib-tab>
            <uib-tab index="request-tab-1" heading="Request example" classes="nav-item">
                <jsonformatter data="aBonDeposit.validateCoupon.requestExample"></jsonformatter>
            </uib-tab>
            <uib-tab index="request-tab-2" heading="Signature" classes="nav-item">
<pre>
Request example:
</pre>
                <jsonformatter data="aBonDeposit.validateCoupon.requestExample"></jsonformatter>
<pre>
Sequence:
CouponCode=5460446045144493&ProviderId=8f62c8f0-7155-4c0e-8ebe-cd9357cfd1bf

Signature:
BPz2mGu8UG89zpFZYdpbESrR4H4mA7cfWJBuyXWLtYJoQShHYQiMklof7NwNy/9lm0sC+PI7J99C/AhleCPrzeF4aYxYXMM5wg+0zMwOPTq/8uqnAmORreYqt5IcpnPxYryXEGpak/NNP3fqH911W4XAKJAurBSv5M/CxV+AC4v8GGkMKZPklH3GKReVDqsy3IP3GK1xnSEoz41h+qL7Ou2qjcEwE9KqDplaejDWFc9DB9ZxrB9+OZHds/rE1uGPfuqyGMgzv9zdsbeXYn2LvPjnvaHWYRPUDkwt3NlhYegayakxP49S4jTYAHNuDNboQVe81glnSawo1cF1T6SG7w3U6VnnKv6cdslHt+UB4xW0gTe3WDeCAUe6+W6LFeJY1dbYVz4x4PKvTFml6um6Qp8o1F1UfN/MemHojHwK0NXgtHpEyB1NvY5UyMJAIRZinMVxWDDCBFFwSp0VlAYx2mKUP60Y4HR9c/7MBh5wHVTFODQoN83h21sRtINntvm3GZRCtWgH0Xx8MOAi0UjgsYribLtxESsao4DMy06VxcokVNI4r6fqbzKYd0g+tF1kTRV0ZXeqK1PiDTyEzBxxakXnhOPUHf+E8B+zBpJrdNQPjyytVHMosjFTEpLI3HjpKslD0bFdk5Y+oWkYwMktHy1B9KMl5OraM4fZufrviCQ=
</pre>
            </uib-tab>
            <uib-tab index="request-tab-3" heading="Response parameters" classes="nav-item">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Parameters</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><b>CouponValue</b></td>
                                <td>decimal</td>
                                <td>
                                    Coupon value
                                </td>
                            </tr>
                            <tr>
                                <td><b>IsValid</b></td>
                                <td>bool</td>
                                <td>
                                    Status of the coupon's validity
                                </td>
                            </tr>
                            <tr>
                                <td><b>ISOCurrency</b></td>
                                <td>string</td>
                                <td>
                                    ISO 4217 code of currency
                                </td>
                            </tr>
                            <tr>
                                <td><b>ProviderTransactionId</b></td>
                                <td>string</td>
                                <td>
                                    Transaction identifier in the Online Provider system (has value
                                    only if the coupon has been used)
                                </td>
                            </tr>
                            <tr>
                                <td><b>SalePartnerId</b></td>
                                <td>string</td>
                                <td>
                                    Id of the point of sale - where the coupon was bought
                                </td>
                            </tr>
                            <tr>
                                <td><b>IsoCountryCode</b></td>
                                <td>string</td>
                                <td>
                                    ISO 3166 standard – Codes for the representation of names of countries and their subdivisions (e.g. HR, DE, RO ...)
                                </td>
                            </tr>
                            <tr>
                                <td><b>OriginalISOCurrency</b></td>
                                <td>string</td>
                                <td>
                                    ISO 4217 code of the currency that the coupon was originally
                                    bought in
                                </td>
                            </tr>
                            <tr>
                                <td><b>OriginalCouponValue</b></td>
                                <td>decimal</td>
                                <td>
                                    Coupon value in the currency that the coupon was originally
                                    bought in
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <hr />
                <p class="ml-3">
                    <b>*NOTE:</b> Parameters in the table are included in each response, but you need to support new parameters as well, although you may not use them. If Aircash adds a new parameter, your system needs to accept the response with additional parameter(s).
                </p>
            </uib-tab>
            <uib-tab index="request-tab-4" heading="200 OK Response example" classes="nav-item">
                <jsonformatter data="aBonDeposit.validateCoupon.responseExample"></jsonformatter>
            </uib-tab>
            <uib-tab index="request-tab-5" heading="Error response messages" classes="nav-item">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Http response</th>
                                <th>Description</th>
                                <th>Error Code</th>
                                <th>Message</th>
                                <th>Aditional data</th>
                                <th>Solution</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td rowspan="7"><b>400</b></td>
                                <td rowspan="7">
                                    An invalid request was made. The response will contain an error code, message and optionally additionalData.
                                </td>
                                <td><b>1</b></td>
                                <td>Invalid ProviderId</td>
                                <td>-</td>
                                <td rowspan="7">
                                    The response will contain an error code,
                                    message and optionally additionalData.

                                </td>
                            </tr>
                            <tr>
                                <td><b>2</b></td>
                                <td>Invalid Signature</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><b>3</b></td>
                                <td>Invalid Coupon Code</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><b>4</b></td>
                                <td>Conversion Module Error</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><b>5</b></td>
                                <td>Authorization pending</td>
                                <td>
                                    ISOCurrency, CouponValue
                                </td>
                            </tr>
                            <tr>
                                <td><b>6</b></td>
                                <td>Invalid phone number</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><b>7</b></td>
                                <td>Coupon Country Not Allowed</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><b>500</b></td>
                                <td>An unknown error occured</td>
                                <td>-</td>
                                <td>Unknown error has occurred</td>
                                <td>-</td>
                                <td>
                                    Contact Aircash support
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </uib-tab>
            <uib-tab index="request-tab-7" heading="Error response example" classes="nav-item">
                <uib-tabset class="row tabs-left">
                    <uib-tab index="ValidateTransactionError-tab-1" heading="1 - Invalid ProviderId" classes="nav-item">
                        <div class="row col-12">
                            <div class="col-sm-6 overflow-auto" ng-if="!(errorValidateResponded && currentErrorCode == 1)">
                                Request
                                <jsonformatter data="errorExamples.ValidateTransaction.error1.request"></jsonformatter>

                                Sequence:
                                CouponCode=6377944739582437&ProviderId=5d2f43e4-c9b6-4a46-b08e-28037d027e0c
                            </div>
                            <div class="col-sm-6" ng-if="!(errorValidateResponded && currentErrorCode == 1)">
                                Response
                                <jsonformatter data="errorExamples.ValidateTransaction.error1.response"></jsonformatter>
                            </div>
                            <div class="col-sm-6 overflow-auto" ng-if="errorValidateResponded && currentErrorCode == 1">
                                Request ({{errorRequestDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorRequest"></jsonformatter>

                                Sequence: {{errorSequence}}<br />

                            </div>
                            <div class="col-sm-6" ng-if="errorValidateResponded && currentErrorCode == 1">
                                Response ({{errorResponseDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorResponse"></jsonformatter>
                            </div>
                        </div>
                        <button class="btn btn-primary mt-2" ng-click="validateSimulateError(1)" ng-disabled="errorValidateServiceBusy">Simulate <i ng-if="errorValidateServiceBusy" class="fa fa-cog fa-spin"></i></button>
                        <button class="btn btn-white mt-2" ng-click="copyToClipboard(errorRequestCopy)" ng-if="errorValidateResponded && currentErrorCode == 1">Copy Request</button>
                    </uib-tab>
                    <uib-tab index="ValidateTransactionError-tab-2" heading="2 - Invalid Signature" classes="nav-item">
                        <div class="row col-12">
                            <div class="col-sm-6 overflow-auto" ng-if="!(errorValidateResponded && currentErrorCode == 2)">
                                Request
                                <jsonformatter data="errorExamples.ValidateTransaction.error2.request"></jsonformatter>

                                Sequence:
                                CouponCode=6377944739582437&ProviderId=e9fb671b-154e-4918-9788-84b6758fb082
                            </div>
                            <div class="col-sm-6" ng-if="!(errorValidateResponded && currentErrorCode == 2)">
                                Response
                                <jsonformatter data="errorExamples.ValidateTransaction.error2.response"></jsonformatter>
                            </div>
                            <div class="col-sm-6 overflow-auto" ng-if="errorValidateResponded && currentErrorCode == 2">
                                Request ({{errorRequestDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorRequest"></jsonformatter>

                                Sequence: {{errorSequence}}<br />

                            </div>
                            <div class="col-sm-6" ng-if="errorValidateResponded && currentErrorCode == 2">
                                Response ({{errorResponseDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorResponse"></jsonformatter>
                            </div>
                        </div>
                        <button class="btn btn-primary mt-2" ng-click="validateSimulateError(2)" ng-disabled="errorValidateServiceBusy">Simulate <i ng-if="errorValidateServiceBusy" class="fa fa-cog fa-spin"></i></button>
                        <button class="btn btn-white mt-2" ng-click="copyToClipboard(errorRequestCopy)" ng-if="errorValidateResponded && currentErrorCode == 2">Copy Request</button>
                    </uib-tab>
                    <uib-tab index="ValidateTransactionError-tab-3" heading="3 - Invalid Coupon Code" classes="nav-item">
                        <div class="row col-12">
                            <div class="col-sm-6 overflow-auto" ng-if="!(errorValidateResponded && currentErrorCode == 3)">
                                Request
                                <jsonformatter data="errorExamples.ValidateTransaction.error3.request"></jsonformatter>

                                Sequence:
                                CouponCode=OQ4VTTXHO15QD621&ProviderId=e9fb671b-154e-4918-9788-84b6758fb082
                            </div>
                            <div class="col-sm-6" ng-if="!(errorValidateResponded && currentErrorCode == 3)">
                                Response
                                <jsonformatter data="errorExamples.ValidateTransaction.error3.response"></jsonformatter>
                            </div>
                            <div class="col-sm-6 overflow-auto" ng-if="errorValidateResponded && currentErrorCode == 3">
                                Request ({{errorRequestDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorRequest"></jsonformatter>

                                Sequence: {{errorSequence}}<br />

                            </div>
                            <div class="col-sm-6" ng-if="errorValidateResponded && currentErrorCode == 3">
                                Response ({{errorResponseDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorResponse"></jsonformatter>
                            </div>
                        </div>
                        <button class="btn btn-primary mt-2" ng-click="validateSimulateError(3)" ng-disabled="errorValidateServiceBusy">Simulate <i ng-if="errorValidateServiceBusy" class="fa fa-cog fa-spin"></i></button>
                        <button class="btn btn-white mt-2" ng-click="copyToClipboard(errorRequestCopy)" ng-if="errorValidateResponded && currentErrorCode == 3">Copy Request</button>
                    </uib-tab>
                    <uib-tab index="ValidateTransactionError-tab-4" heading="4 - Conversion Module Error" classes="nav-item">
                        Simulation not available.
                    </uib-tab>
                    <uib-tab index="ValidateTransactionError-tab-5" heading="7 - Coupon Country Not Allowed" classes="nav-item">
                        <div class="row col-12">
                            <div class="col-sm-6 overflow-auto" ng-if="!(errorValidateResponded && currentErrorCode == 7)">
                                Request
                                <jsonformatter data="errorExamples.ValidateTransaction.error7.request"></jsonformatter>

                                Sequence:
                                CouponCode=1437861149152627&ProviderId=e9fb671b-154e-4918-9788-84b6758fb082
                            </div>
                            <div class="col-sm-6" ng-if="!(errorValidateResponded && currentErrorCode == 7)">
                                Response
                                <jsonformatter data="errorExamples.ValidateTransaction.error7.response"></jsonformatter>
                            </div>
                            <div class="col-sm-6 overflow-auto" ng-if="errorValidateResponded && currentErrorCode == 7">
                                Request ({{errorRequestDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorRequest"></jsonformatter>

                                Sequence: {{errorSequence}}<br />

                            </div>
                            <div class="col-sm-6" ng-if="errorValidateResponded && currentErrorCode == 7">
                                Response ({{errorResponseDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorResponse"></jsonformatter>
                            </div>
                        </div>
                        <button class="btn btn-primary mt-2" ng-click="validateSimulateError(7)" ng-disabled="errorValidateServiceBusy">Simulate <i ng-if="errorValidateServiceBusy" class="fa fa-cog fa-spin"></i></button>
                        <button class="btn btn-white mt-2" ng-click="copyToClipboard(errorRequestCopy)" ng-if="errorValidateResponded && currentErrorCode == 7">Copy Request</button>
                    </uib-tab>
                </uib-tabset>
            </uib-tab>
            <uib-tab index="request-tab-8" heading="Try it out" classes="nav-item">
                <div class="row">
                    <div class="col-md-3">
                        <form action="/" method="POST" name="validateForm0">
                            <fieldset>
                                <div class="mb-3">
                                    <label class="form-label" for="exampleInputEmail1">Provider Id</label>
                                    <input ng-model="validateCouponModel.providerId" class="form-control" type="text" placeholder="Enter provider id" ng-required="true">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label" for="exampleInputEmail1">Coupon code</label>
                                    <input ng-model="validateCouponModel.couponCode" class="form-control" type="text" placeholder="Enter coupon code" ng-required="true">
                                </div>
                                <button ng-click="validateCoupon()" class="btn btn-primary w-100px me-5px" ng-disabled="validateBusy || validateForm0.$invalid">Validate <i ng-if="validateBusy" class="fa fa-cog fa-spin"></i></button>
                            </fieldset>
                        </form>
                    </div>
                    <br />
                    <div ng-if="validateResponded" class="col-md-4">
                        Request ({{ValidateRequestDateTimeUTC | date:'yyyy-MM-dd HH:mm:ss.sss'}})
                        <jsonformatter data="ValidateServiceRequest"></jsonformatter>
                        Sequence: {{sequenceValidate}}
                    </div>
                    <div ng-if="validateResponded" class="col-md-4">
                        Response ({{ValidateResponseDateTimeUTC | date:'yyyy-MM-dd HH:mm:ss.sss'}})
                        <jsonformatter data="ValidateServiceResponse"></jsonformatter>
                    </div>
                </div>
            </uib-tab>
            <uib-tab index="request-tab-9" heading="Curl" classes="nav-item">
                <div class="row">
                    <div class="col-md-3">
                        <form action="/" method="POST" name="validateForm1">
                            <fieldset>
                                <div class="mb-3">
                                    <label class="form-label" for="exampleInputEmail1">Provider Id</label>
                                    <input ng-model="validateCouponModel.providerId" class="form-control" type="text" placeholder="Enter provider id" ng-required="true">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label" for="exampleInputEmail1">Coupon code</label>
                                    <input ng-model="validateCouponModel.couponCode" class="form-control" type="text" placeholder="Enter coupon code" ng-required="true">
                                </div>
                                <button ng-click="getCurlValidateCoupon()" class="btn btn-primary w-100px me-5px" ng-disabled="curlValidateBusy || validateForm1.$invalid">Get Curl <i ng-if="curlValidateBusy" class="fa fa-cog fa-spin"></i></button>

                            </fieldset>
                        </form>
                    </div>
                    <br />

                    <div ng-if="curlValidateResponded" class="col-md-9">
                        <pre>
                        <jsonformatter data="CurlResponse"></jsonformatter>
                        </pre>
                        <button class="btn btn-white mt-2" ng-click="copyToClipboard(CurlResponse)">Copy</button>
                    </div>
                </div>
            </uib-tab>
        </uib-tabset>
        <br />
        <h4>Confirm payment - push notification</h4>
        <p>
            In case when the customer needs to authorize a voucher by entering his phone number, A-bon
            service will send push notification towards the agreed URL. The method is used to let the Aircash
            platform notify the partner system that the A-bon payment has been authorized and approved from the
            end-user
        </p>
        <p>
            The notification will be sent after the user authorizes the A-bon coupon using the Aircash
            application. During the authorization, the A-bon deposit screen should display a message and further
            instructions to the user (message and instructions will be provided by Aircash). After receiving the
            notification, the partner’s system will be able to deposit the amount of the authorized coupon by
            repeating the Validate coupon and ConfirmTransaction request
        </p>
        <div class="note note-gray-400 col-md-6">
            <div class="note-content">
                <p>
                    Example of the request (partner will provide correct endpoint):
                </p>
                <code>GET ~/api/Authorize?providerTransactionId={providerTransactionId}</code>
            </div>
        </div>
        <br />
        <uib-tabset>
            <uib-tab index="confimrNotification-tab-0" heading="Request parameters" classes="nav-item">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Parameters</th>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Required</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><b>ProviderTransactionId</b></td>
                                <td>string</td>
                                <td>
                                    Transaction identifier in the Online Provider system
                                </td>
                                <td>YES</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </uib-tab>
            <uib-tab index="confimrNotification-tab-1" heading="Response example" classes="nav-item">
                <p>
                    Partner system should respond with HTTP response 200 OK in case of success. In case the partner system isn’t able to process the transaction, the partner system should respond with HTTP response code that isn’t 200 OK.
                </p>
            </uib-tab>
        </uib-tabset>
        <p>
            Aircash will not repeat the notification in case of HTTP 200 OK response. After receiving the notification,
            the partner's system can proceed with the deposit process by sending the
            ValidateCoupon/ConfirmTransaction requests
        </p>
        <p>
            If the partner’s system isn’t able to receive the push notification request because of any
            technical errors, the request will be resubmitted at a regular interval until the payment notification is
            successfully delivered (200 OK response) or the maximum number of retry attempts has been reached.
        </p>
        <p>
            User’s behavior during the payment authorization (i.e. user has closed the A-bon deposit
            window, user’s session has expired, user has logged out) may affect total amount of time, in case there is
            a time window defined on the partner's cashier within which user's payment needs to be captured after
            initiating deposit. Aircash will not decline any A-bon deposit request that came after expiring the time
            window (if any) and Aircash doesn't need to be aware of it. If the push notification is sent outside time
            frame boundaries, the transaction still can be processed by sending a
            ValidateCoupon/ConfirmTransactions request, if conditions are met on the partner's cashiers
        </p>
        <h5>Edge cases</h5>
        <p>
            The notification will not be sent if the coupon is already in status of pending authorization. Partner’s
            system can expect that the notification will be sent as soon as the user authorizes the coupon.
        </p>
        <p>
            The notification will not be sent if the coupon is already authorized. A-bon will remain in the authorized
            status if the ValidateCoupon/ConfirmTransaction requests are not being sent due to technical errors. In
            this scenario, the partner's system will receive valid status (IsValid parameter from the ValidateCoupon
            method will be set to true) and the ConfirmTransaction request can be sent towards the Aircash system.
        </p>
        <br />
        <h4>ConfirmTransaction</h4>
        <p>
            Method that’s used to confirm the transfer of funds to the user’s online account.
        </p>
        <div class="table-responsive">
            <table class="table table-active col-md-6">
                <thead>
                    <tr>
                        <th>Environment</th>
                        <th>Method</th>
                        <th>URL</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><b>Test</b></td>
                        <td>
                            POST
                        </td>
                        <td>https://staging-a-bon.aircash.eu/rest/api/OnlineProvider/ConfirmTransaction</td>
                    </tr>
                    <tr>
                        <td><b>Production</b></td>
                        <td>
                            POST
                        </td>
                        <td>https://a-bon.aircash.eu/rest/api/OnlineProvider/ConfirmTransaction</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <br />
        <uib-tabset>
            <uib-tab index="request-tab-0" heading="Request parameters" classes="nav-item">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Parameters</th>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Required</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><b>CouponCode</b></td>
                                <td>string</td>
                                <td>
                                    16 digit coupon code that the user enters in the Online
                                    Provider's web interface
                                </td>
                                <td>YES</td>
                            </tr>
                            <tr>
                                <td><b>ProviderId</b></td>
                                <td>string</td>
                                <td>
                                    Unique partner identifier (per currency) provided by Aircash
                                </td>
                                <td>YES</td>
                            </tr>
                            <tr>
                                <td><b>ProviderTransactionId</b></td>
                                <td>string</td>
                                <td>
                                    Transaction identifier in the Online Provider system
                                </td>
                                <td>YES</td>
                            </tr>
                            <tr>
                                <td><b>UserId</b></td>
                                <td>string</td>
                                <td>
                                    Unique user identifier in the Online Provider system
                                </td>
                                <td>YES</td>
                            </tr>
                            <tr>
                                <td><b>Signature</b></td>
                                <td>string</td>
                                <td>
                                    A sequence that has been digitally signed with the
                                    provider's private signature, used for authentication
                                </td>
                                <td>YES</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </uib-tab>
            <uib-tab index="request-tab-1" heading="Request example" classes="nav-item">
                <jsonformatter data="aBonDeposit.confirmTransaction.requestExample"></jsonformatter>
            </uib-tab>
            <uib-tab index="request-tab-2" heading="Signature" classes="nav-item">
<pre>
Request example:
</pre>
                <jsonformatter data="aBonDeposit.confirmTransaction.requestExample"></jsonformatter>
                <pre>
Sequence:
CouponCode=2326186935891516&ProviderId=e9fb671b-154e-4918-9788-84b6758fb082&ProviderTransactionId=e126aa6b-0073-4e5f-bb3c-9eeefb6d392f&UserId=4149ba7d-e4f7-4c77-8393-d03e6691c03b

Signature:
eOplj4Cgfm/KNphpl61XyPfnZ5d3vuAUtP6g1hfvWcB89fWIzOVi5rn1Ra24hrP6Q3pTnyLQTiOk3SMQPNwctggadHHvQpGBOW1d7avb4oSPqQy1KEgeCBceZeN5ErZn4sNsKo1W7UkCIyhGfS7Fb6/b9cLXMqh5pOBD1L+YdFGiDlG439wE6rfvomrv0Qzl23R2OVTdFF9V6m/B7cHvwNrl6iL3dXXksmWkW/XP7fUx+zqDPFLlnkMrNseUScqL7wXBNxJEWUTRyon8KuoAl7tfUHCcjPEuJyLnEMuQ3eEwmNgSOZh4P+orpAw60A8OjzriPGCALAD/BBXlHe+dofm6oerVflZHFzAT9ev8mcsEMqx5K/jlc+kWLqO8O5PLKRKE2GEZH7t8sI12YUgk33VENJSAmiJFWVcOwpKjkpMZUsBk679uzQT0n9FOY1xMp/vUMTdIp9tf4L1cgJ7CRId5wq3Dl1GlU2r+2rW1xTR4W+ybZ0U6Mh6fyJcNCKtcVb40T5VDVoncbxyDJ0Wr8Kc8kpU3I7oNcMtABYW0iHhew2/uYBDpB5tekkXymWAuvSKMKnjY2dyoOWcCexb9aQEKmlwT1XNZM6dFU6G7b4kNYNrSvSA89DAOoRRw7vwP8HF2aJrPulgR3+dGMPeMW/+nTTD+YwXeedpa/hw8CPk=</pre>
            </uib-tab>
            <uib-tab index="request-tab-3" heading="Response parameters" classes="nav-item">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Parameters</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><b>CouponValue</b></td>
                                <td>decimal</td>
                                <td>
                                    Coupon value
                                </td>
                            </tr>
                            <tr>
                                <td><b>ISOCurrency</b></td>
                                <td>string</td>
                                <td>
                                    ISO 4217 code of the currency
                                </td>
                            </tr>
                            <tr>
                                <td><b>ProviderTransactionId</b></td>
                                <td>string</td>
                                <td>
                                    Transaction identifier in the Online Provider system (has value
                                    only if the coupon has been used)
                                </td>
                            </tr>
                            <tr>
                                <td><b>SalePartnerId</b></td>
                                <td>string</td>
                                <td>
                                    Id of the point of sale - where the coupon was bought
                                </td>
                            </tr>
                            <tr>
                                <td><b>IsoCountryCode</b></td>
                                <td>string</td>
                                <td>
                                    ISO 3166 standard – Codes for the representation of names of countries and their subdivisions (e.g. HR, DE, RO ...)
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <hr />
                <p class="ml-3">
                    <b>*NOTE:</b> Parameters in the table are included in each response, but you need to support new parameters as well, although you may not use them. If Aircash adds a new parameter, your system needs to accept the response with additional parameter(s).
                </p>
            </uib-tab>
            <uib-tab index="request-tab-4" heading="200 OK Response example" classes="nav-item">
                <jsonformatter data="aBonDeposit.confirmTransaction.responseExample"></jsonformatter>
            </uib-tab>
            <uib-tab index="request-tab-5" heading="Error response messages" classes="nav-item">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Http response</th>
                                <th>Description</th>
                                <th>Error Code</th>
                                <th>Message</th>
                                <th>Aditional data</th>
                                <th>Solution</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td rowspan="8"><b>400</b></td>
                                <td rowspan="8">
                                    An invalid request was made. The response will contain an error code, message and optionally additionalData.
                                </td>
                                <td><b>1</b></td>
                                <td>Invalid ProviderId</td>
                                <td>-</td>
                                <td rowspan="8">
                                    The response will contain an error code,
                                    message and optionally additionalData.

                                </td>
                            </tr>
                            <tr>
                                <td><b>2</b></td>
                                <td>Invalid Signature</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><b>3</b></td>
                                <td>Invalid Coupon Code</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><b>4</b></td>
                                <td>Coupon Already Used</td>
                                <td>ISOCurrency, CouponValue, ProviderTransactionId</td>
                            </tr>
                            <tr>
                                <td><b>5</b></td>
                                <td>Conversion Module Error</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><b>6</b></td>
                                <td>Authorization pending</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><b>7</b></td>
                                <td>Coupon Country Not Allowed</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><b>9</b></td>
                                <td>Limit exceeded</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><b>500</b></td>
                                <td>An unknown error occured</td>
                                <td>-</td>
                                <td>Unknown error has occurred</td>
                                <td>-</td>
                                <td>
                                    Contact Aircash support
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </uib-tab>
            <uib-tab index="request-tab-7" heading="Error response example" classes="nav-item">
                <uib-tabset class="row tabs-left">
                    <uib-tab index="ConfirmTransactionError-tab-1" heading="1 - Invalid ProviderId" classes="nav-item">
                        <div class="row col-12">
                            <div class="col-sm-6 overflow-auto" ng-if="!(errorConfirmResponded && currentConfirmErrorCode == 1)">
                                Request
                                <jsonformatter data="errorExamples.ConfirmTransaction.error1.request"></jsonformatter>

                                Sequence:
                                CouponCode=6377944739582437&ProviderId=7562aad0-aa14-4095-b73e-48170d4191cf&ProviderTransactionId=13569d0e-8dfe-48a4-bd51-2d46b8968252&UserId=32789507-dac4-4a90-aaa2-98398bfc501a
                            </div>
                            <div class="col-sm-6" ng-if="!(errorConfirmResponded && currentConfirmErrorCode == 1)">
                                Response
                                <jsonformatter data="errorExamples.ConfirmTransaction.error1.response"></jsonformatter>
                            </div>
                            <div class="col-sm-6 overflow-auto" ng-if="errorConfirmResponded && currentConfirmErrorCode == 1">
                                Request ({{errorConfirmRequestDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorConfirmRequest"></jsonformatter>

                                Sequence: {{errorConfirmSequence}}<br />

                            </div>
                            <div class="col-sm-6" ng-if="errorConfirmResponded && currentConfirmErrorCode == 1">
                                Response ({{errorConfirmResponseDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorConfirmResponse"></jsonformatter>
                            </div>
                        </div>
                        <button class="btn btn-primary mt-2" ng-click="confirmSimulateError(1)" ng-disabled="errorConfirmServiceBusy">Simulate <i ng-if="errorConfirmServiceBusy" class="fa fa-cog fa-spin"></i></button>
                        <button class="btn btn-white mt-2" ng-click="copyToClipboard(errorConfirmRequestCopy)" ng-if="errorConfirmResponded && currentConfirmErrorCode == 1">Copy Request</button>
                    </uib-tab>
                    <uib-tab index="ConfirmTransactionError-tab-2" heading="2 - Invalid Signature" classes="nav-item">
                        <div class="row col-12">
                            <div class="col-sm-6 overflow-auto" ng-if="!(errorConfirmResponded && currentConfirmErrorCode == 2)">
                                Request
                                <jsonformatter data="errorExamples.ConfirmTransaction.error2.request"></jsonformatter>

                                Sequence:
                                CouponCode=6377944739582437&ProviderId=e9fb671b-154e-4918-9788-84b6758fb082&ProviderTransactionId=9c75b26b-b600-4f02-93de-45f4b6fff057&UserId=940a81aa-5696-4c1b-bbb0-80698ccf092e
                            </div>
                            <div class="col-sm-6" ng-if="!(errorConfirmResponded && currentConfirmErrorCode == 2)">
                                Response
                                <jsonformatter data="errorExamples.ConfirmTransaction.error2.response"></jsonformatter>
                            </div>
                            <div class="col-sm-6 overflow-auto" ng-if="errorConfirmResponded && currentConfirmErrorCode == 2">
                                Request ({{errorConfirmRequestDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorConfirmRequest"></jsonformatter>

                                Sequence: {{errorConfirmSequence}}<br />

                            </div>
                            <div class="col-sm-6" ng-if="errorConfirmResponded && currentConfirmErrorCode == 2">
                                Response ({{errorConfirmResponseDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorConfirmResponse"></jsonformatter>
                            </div>
                        </div>
                        <button class="btn btn-primary mt-2" ng-click="confirmSimulateError(2)" ng-disabled="errorConfirmServiceBusy">Simulate <i ng-if="errorConfirmServiceBusy" class="fa fa-cog fa-spin"></i></button>
                        <button class="btn btn-white mt-2" ng-click="copyToClipboard(errorConfirmRequestCopy)" ng-if="errorConfirmResponded && currentConfirmErrorCode == 2">Copy Request</button>
                    </uib-tab>
                    <uib-tab index="ConfirmTransactionError-tab-3" heading="3 - Invalid Coupon Code" classes="nav-item">
                        <div class="row col-12">
                            <div class="col-sm-6 overflow-auto" ng-if="!(errorConfirmResponded && currentConfirmErrorCode == 3)">
                                Request
                                <jsonformatter data="errorExamples.ConfirmTransaction.error3.request"></jsonformatter>

                                Sequence:
                                CouponCode=S4S152QJK6E83HC1&ProviderId=e9fb671b-154e-4918-9788-84b6758fb082&ProviderTransactionId=3c4c8d91-c8dd-43ae-835b-aca46eaa2a36&UserId=b8970b7a-22c6-4ba2-b866-bec9b8a2437f
                            </div>
                            <div class="col-sm-6" ng-if="!(errorConfirmResponded && currentConfirmErrorCode == 3)">
                                Response
                                <jsonformatter data="errorExamples.ConfirmTransaction.error3.response"></jsonformatter>
                            </div>
                            <div class="col-sm-6 overflow-auto" ng-if="errorConfirmResponded && currentConfirmErrorCode == 3">
                                Request ({{errorConfirmRequestDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorConfirmRequest"></jsonformatter>

                                Sequence: {{errorConfirmSequence}}<br />

                            </div>
                            <div class="col-sm-6" ng-if="errorConfirmResponded && currentConfirmErrorCode == 3">
                                Response ({{errorConfirmResponseDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorConfirmResponse"></jsonformatter>
                            </div>
                        </div>
                        <button class="btn btn-primary mt-2" ng-click="confirmSimulateError(3)" ng-disabled="errorConfirmServiceBusy">Simulate <i ng-if="errorConfirmServiceBusy" class="fa fa-cog fa-spin"></i></button>
                        <button class="btn btn-white mt-2" ng-click="copyToClipboard(errorConfirmRequestCopy)" ng-if="errorConfirmResponded && currentConfirmErrorCode == 3">Copy Request</button>
                    </uib-tab>
                    <uib-tab index="ConfirmTransactionError-tab-4" heading="4 - Coupon Already Used" classes="nav-item">
                        <div class="row col-12">
                            <div class="col-sm-6 overflow-auto" ng-if="!(errorConfirmResponded && currentConfirmErrorCode == 4)">
                                Request
                                <jsonformatter data="errorExamples.ConfirmTransaction.error4.request"></jsonformatter>

                                Sequence:
                                CouponCode=2981361437471469&ProviderId=e9fb671b-154e-4918-9788-84b6758fb082&ProviderTransactionId=ce44cff1-41f5-4610-be3d-5054293be353&UserId=750ce21e-7ce4-4ead-9e5b-5961e684e4c9
                            </div>
                            <div class="col-sm-6" ng-if="!(errorConfirmResponded && currentConfirmErrorCode == 4)">
                                Response
                                <jsonformatter data="errorExamples.ConfirmTransaction.error4.response"></jsonformatter>
                            </div>
                            <div class="col-sm-6 overflow-auto" ng-if="errorConfirmResponded && currentConfirmErrorCode == 4">
                                Request ({{errorConfirmRequestDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorConfirmRequest"></jsonformatter>

                                Sequence: {{errorConfirmSequence}}<br />

                            </div>
                            <div class="col-sm-6" ng-if="errorConfirmResponded && currentConfirmErrorCode == 4">
                                Response ({{errorConfirmResponseDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorConfirmResponse"></jsonformatter>
                            </div>
                        </div>
                        <button class="btn btn-primary mt-2" ng-click="confirmSimulateError(4)" ng-disabled="errorConfirmServiceBusy">Simulate <i ng-if="errorConfirmServiceBusy" class="fa fa-cog fa-spin"></i></button>
                        <button class="btn btn-white mt-2" ng-click="copyToClipboard(errorConfirmRequestCopy)" ng-if="errorConfirmResponded && currentConfirmErrorCode == 4">Copy Request</button>
                    </uib-tab>
                    <uib-tab index="ConfirmTransactionError-tab-5" heading="5 - Conversion Module Error" classes="nav-item">
                        Simulation not available.
                    </uib-tab>
                    <uib-tab index="ConfirmTransactionError-tab-6" heading="7 - Coupon Country Not Allowed" classes="nav-item">
                        <div class="row col-12">
                            <div class="col-sm-6 overflow-auto" ng-if="!(errorConfirmResponded && currentConfirmErrorCode == 7)">
                                Request
                                <jsonformatter data="errorExamples.ConfirmTransaction.error7.request"></jsonformatter>

                                Sequence:
                                CouponCode=1437861149152627&ProviderId=e9fb671b-154e-4918-9788-84b6758fb082&ProviderTransactionId=b6b215e6-379b-4b1f-8bad-0831be6489d3&UserId=32d2c793-a059-4743-89a4-7cefc00e4411
                            </div>
                            <div class="col-sm-6" ng-if="!(errorConfirmResponded && currentConfirmErrorCode == 7)">
                                Response
                                <jsonformatter data="errorExamples.ConfirmTransaction.error7.response"></jsonformatter>
                            </div>
                            <div class="col-sm-6 overflow-auto" ng-if="errorConfirmResponded && currentConfirmErrorCode == 7">
                                Request ({{errorConfirmRequestDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorConfirmRequest"></jsonformatter>

                                Sequence: {{errorConfirmSequence}}<br />

                            </div>
                            <div class="col-sm-6" ng-if="errorConfirmResponded && currentConfirmErrorCode == 7">
                                Response ({{errorConfirmResponseDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorConfirmResponse"></jsonformatter>
                            </div>
                        </div>
                        <button class="btn btn-primary mt-2" ng-click="confirmSimulateError(7)" ng-disabled="errorConfirmServiceBusy">Simulate <i ng-if="errorConfirmServiceBusy" class="fa fa-cog fa-spin"></i></button>
                        <button class="btn btn-white mt-2" ng-click="copyToClipboard(errorConfirmRequestCopy)" ng-if="errorConfirmResponded && currentConfirmErrorCode == 7">Copy Request</button>
                    </uib-tab>
                    <uib-tab index="ConfirmTransactionError-tab-7" heading="9 - Limit exceeded" classes="nav-item">
                        <div class="row col-12">
                            <div class="col-sm-6 overflow-auto" ng-if="!(errorConfirmResponded && currentConfirmErrorCode == 9)">
                                Request
                                <jsonformatter data="errorExamples.ConfirmTransaction.error9.request"></jsonformatter>

                                Sequence:
                                CouponCode=6377944739582437&ProviderId=e9fb671b-154e-4918-9788-84b6758fb082&ProviderTransactionId=228d8b14-675a-4ca8-afb9-8a995ed4c591&UserId=1a2b8324-e8d4-496d-a119-b571583668c7
                            </div>
                            <div class="col-sm-6" ng-if="!(errorConfirmResponded && currentConfirmErrorCode == 9)">
                                Response
                                <jsonformatter data="errorExamples.ConfirmTransaction.error9.response"></jsonformatter>
                            </div>
                            <div class="col-sm-6 overflow-auto" ng-if="errorConfirmResponded && currentConfirmErrorCode == 9">
                                Request ({{errorConfirmRequestDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorConfirmRequest"></jsonformatter>

                                Sequence: {{errorConfirmSequence}}<br />

                            </div>
                            <div class="col-sm-6" ng-if="errorConfirmResponded && currentConfirmErrorCode == 9">
                                Response ({{errorConfirmResponseDateTimeUTC| date:'yyyy-MM-dd HH:mm:ss.sss'}})
                                <jsonformatter data="errorConfirmResponse"></jsonformatter>
                            </div>
                        </div>
                        <button class="btn btn-primary mt-2" ng-click="confirmSimulateError(9)" ng-disabled="errorConfirmServiceBusy">Simulate <i ng-if="errorConfirmServiceBusy" class="fa fa-cog fa-spin"></i></button>
                        <button class="btn btn-white mt-2" ng-click="copyToClipboard(errorConfirmRequest)" ng-if="errorConfirmResponded && currentConfirmErrorCode == 9">Copy Request</button>
                    </uib-tab>
                </uib-tabset>
            </uib-tab>
            <uib-tab index="request-tab-8" heading="Try it out" classes="nav-item">
                <div class="row">
                    <div class="col-md-3">
                        <form action="/" method="POST" name="confirmForm0">
                            <fieldset>
                                <div class="mb-3">
                                    <label class="form-label" for="exampleInputEmail1">Provider Id</label>
                                    <input ng-model="confirmTransactionModel.providerId" class="form-control" type="text" placeholder="Enter provider id" ng-required="true">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label" for="exampleInputEmail1">User Id</label>
                                    <input ng-model="confirmTransactionModel.userId" class="form-control" type="text" placeholder="Enter user id" ng-required="true">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label" for="exampleInputEmail1">Provider Transaction Id</label>
                                    <input ng-model="confirmTransactionModel.providerTransactionId" class="form-control" type="text" placeholder="Enter provider transaction id" ng-required="true">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label" for="exampleInputEmail1">Coupon code</label>
                                    <input ng-model="confirmTransactionModel.couponCode" class="form-control" type="text" placeholder="Enter coupon code" ng-required="true">
                                </div>
                                <button ng-click="confirmTransaction()" class="btn btn-primary w-100px me-5px" ng-disabled="confirmBusy || confirmForm0.$invalid">Confirm transaction <i ng-if="confirmBusy" class="fa fa-cog fa-spin"></i></button>
                            </fieldset>
                        </form>
                    </div>
                    <br />
                    <div ng-if="confirmResponded" class="col-md-3">
                        Request ({{ConfirmRequestDateTimeUTC | date:'yyyy-MM-dd HH:mm:ss.sss'}})
                        <jsonformatter data="ConfirmServiceRequest"></jsonformatter>
                        Sequence: {{sequenceConfirm}}
                    </div>
                    <div ng-if="confirmResponded" class="col-md-3">
                        Response ({{ConfirmResponseDateTimeUTC | date:'yyyy-MM-dd HH:mm:ss.sss'}})
                        <jsonformatter data="ConfirmServiceResponse"></jsonformatter>
                    </div>
                </div>
            </uib-tab>
            <uib-tab index="request-tab-9" heading="Curl" classes="nav-item">
                <div class="row">
                    <div class="col-md-3">
                        <form action="/" method="POST" name="confirmForm1">
                            <fieldset>
                                <div class="mb-3">
                                    <label class="form-label" for="exampleInputEmail1">Provider Id</label>
                                    <input ng-model="confirmTransactionModel.providerId" class="form-control" type="text" placeholder="Enter provider id" ng-required="true">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label" for="exampleInputEmail1">User Id</label>
                                    <input ng-model="confirmTransactionModel.userId" class="form-control" type="text" placeholder="Enter user id" ng-required="true">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label" for="exampleInputEmail1">Provider Transaction Id</label>
                                    <input ng-model="confirmTransactionModel.providerTransactionId" class="form-control" type="text" placeholder="Enter provider transaction id" ng-required="true">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label" for="exampleInputEmail1">Coupon code</label>
                                    <input ng-model="confirmTransactionModel.couponCode" class="form-control" type="text" placeholder="Enter coupon code" ng-required="true">
                                </div>
                                <button ng-click="getCurlConfirmTransaction()" class="btn btn-primary w-100px me-5px" ng-disabled="curlConfirmBusy || confirmForm1.$invalid">Get Curl <i ng-if="curlConfirmBusy" class="fa fa-cog fa-spin"></i></button>
                            </fieldset>
                        </form>
                    </div>
                    <br />

                    <div ng-if="curlConfirmResponded" class="col-md-9">
                        <pre>
                        <jsonformatter data="CurlResponseConfirmTransaction"></jsonformatter>
                        </pre>
                        <button class="btn btn-white mt-2" ng-click="copyToClipboard(CurlResponseConfirmTransaction)">Copy</button>
                    </div>
                </div>
            </uib-tab>
        </uib-tabset>
        <hr />
        <h1>Prerequisite</h1>
        <p>To start the integration we need to exchange the following information:</p>
        <ol>
            <li>Provide us with a list of emails for which we will open access to the Aircash back office portal.</li>
            <li>Provide us with IPs for whitelisting (test and production)</li>
            <li>Provide us with the Public key file (test and production). How to generate ones, please check the Signature chapter.</li>
        </ol>
        <hr />
        <div class="chapter">
            <div class="technical-integration-aspects-container">
                <h1>Edge cases</h1>
                <br />
                <h4>ConfirmTransaction method – invalid or no response</h4>
                <p>
                    In the case of an unsuccessful ConfirmTransaction call, the following error recovery methods should be
                    applied:
                </p>
                <ol>
                    <li>Call ConfirmTransaction with same parameters</li>
                    <li>
                        If the response is error 400: 4 "Coupon Already Used", and the PartnerTransactionId (this is the
                        parameter that the Online Provider has to set in the ConfirmTransaction call in order to check
                        the transaction status later) in additional data matches the one that was sent – the coupon can
                        be confirmed on the Online Provider side and the transaction can be processed
                    </li>
                </ol>
                <p>
                    Alternatively:
                </p>
                <ol>
                    <li>Call method ValidateCoupon with required parameters</li>
                    <li>
                        If the coupon was used (IsValid == false) and ProviderTransactionId parameter matches the one
                        that was being currently sent in ConfirmTransaction, the coupon can be confirmed on the Online
                        Provider side and the transaction can be processed
                    </li>
                    <li>
                        If the coupon is valid (IsValid == true) and ProviderTransactionId is empty - the transaction was
                        not processed on the Abon side, and you should call ConfirmTransaction again
                    </li>
                </ol>
                <br />
                <h4>ValidateCoupon method – invalid or no response</h4>
                <p>In case the Online Provider doesn't get a response, the request can be retried.</p>
            </div>
        </div>

        <hr />

        <h1>FAQ</h1>

        <br />

        <div class="table-responsive">
            <table class="table table-active">
                <tr>
                    <td rowspan="2">1.</td>
                    <td>
                        <b>Q:&nbsp; What are supported countries and currencies?</b><br />
                    </td>
                </tr>
                <tr>
                    <td><b>A:</b>&nbsp; All European Union countries and currencies</td>
                </tr>
                <tr>
                    <td rowspan="2">2.</td>
                    <td><b>Q:&nbsp; What are available denominations? </b></td>
                </tr>
                <tr>
                    <td><b>A:</b>&nbsp; 5, 10, 20, 25, 50 EUR</td>
                </tr>
                <tr>
                    <td rowspan="2">3.</td>
                    <td><b>Q:&nbsp; Can the Abon be used more than once?</b></td>
                </tr>
                <tr>
                    <td><b>A:</b>&nbsp; The Abon cannot be used more than once, but must be used in its entirety.</td>
                </tr>
                <tr>
                    <td rowspan="2">4.</td>
                    <td><b>Q:&nbsp; Is it possible for the Abon to expire after purchase and if so, how long does it expire if it is not used?</b></td>
                </tr>
                <tr>
                    <td><b>A:</b>&nbsp; Abon voucher does not have an expiration date. After 6 months, if not used, Aircash will decrease the value of the voucher, but it will not be depleted or invalid.</td>
                </tr>
                <tr>
                    <td rowspan="2">5.</td>
                    <td><b>Q:&nbsp; Does the user need to enter the amount during the Abon deposit?</b></td>
                </tr>
                <tr>
                    <td><b>A:</b>&nbsp; No, the user needs to enter only 16-digit code</td>
                </tr>
                <tr>
                    <td rowspan="2">6.</td>
                    <td><b>Q:&nbsp; How to check the limit if the user does not need to amount?</b></td>
                </tr>
                <tr>
                    <td><b>A:</b>&nbsp; You can use the ValidateCoupon method which will return to you the amount, but it will not consume the Abon</td>
                </tr>
            </table>
        </div>
    </div>

    <hr />
    <h2>Abon deposit</h2>
    <div class="row col-12">
        <div class="text-center ml-5 mt-2">
            <h5 style="width: 230px;">1. Partner deposit screen</h5>
            <img style="width: 180px; height: 350px;" src="../../images/partner_deposit_screen_abon_deposit.png" />
        </div>
        <div class="text-center ml-5 mt-2">
            <h5 style="width: 230px;">
                2. Select Abon as a method Insert or Scan Abon
            </h5>
            <img style="width: 180px; height: 350px;" src="../../images/select_abon_as_method_abon_deposit.png" />
        </div>
        <div class="text-center ml-5 mt-2">
            <h5 style="width: 230px;">3. Deposit successful</h5>
            <img style="width: 180px; height: 350px;" src="../../images/deposit_successful_abon_deposit.png" />
        </div>
    </div>

    <!-- #modal-dialog -->
    <div class="modal fade" id="couponModal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Abon example</h4>
                </div>
                <div class="modal-body" align="center">
                    <img src="../../images/abon.png" alt="Abon">
                </div>
                <div class="modal-footer">
                    <a href="javascript:;" class="btn btn-white" data-dismiss="modal">Close</a>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="videoModalAbon">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Abon</h4>
                </div>
                <div class="modal-body" align="center">
                    <video width="600" controls muted>
                        <source src="../../videos/ac_abon.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
                <div class="modal-footer">
                    <a href="javascript:;" class="btn btn-white" data-dismiss="modal">Close</a>
                </div>
            </div>
        </div>
    </div>

</body>
</html>
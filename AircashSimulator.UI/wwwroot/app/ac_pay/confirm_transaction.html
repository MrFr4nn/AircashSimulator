<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <br />
    <h4>ConfirmTransaction</h4>
    <p>
        Once the user confirms the transaction Aircash system will send a confirmation message
        towards the partner system. Partner system should process that message and return a successful
        response in case of successful processing. In case Aircash system doesn’t receive successful response
        Aircash system will retry this request several times after which it will notify Aircash support upon
        unsuccessful confirmation.
    </p>
    <p>Partner should provide an url where Aircash will send all transaction confirmations.</p>
    <i>Aircash public keys:</i>
    <div class="table-responsive">
        <table class="table table-active col-md-2">
            <thead>
                <tr>
                    <th>Environment</th>
                    <th>Download</th>
                </tr>
            </thead>
            <tr>
                <td><b>Test</b></td>
                <td><a href="/files/AircashPayPublicKeyTest.zip" download>Link</a></td>
            </tr>
            <tr>
                <td><b>Production</b></td>
                <td><a href="/files/AircashPayPublicKeyProd.zip" download>Link</a></td>
            </tr>
        </table>
    </div>

    <br />
    <uib-tabset>
        <uib-tab index="request-tab-0" heading="Request parameters" classes="nav-item">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Description</th>
                            <th>Mandatory</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><b>PartnerID</b></td>
                            <td>string</td>
                            <td>
                                Unique partner identifier (per currency) provided by Aircash
                            </td>
                            <td>YES</td>
                        </tr>
                        <tr>
                            <td><b>PartnerTransactionID</b></td>
                            <td>string</td>
                            <td>
                                ID that partner sends in the
                                GeneratePartnerCode method.
                            </td>
                            <td>YES</td>
                        </tr>
                        <tr>
                            <td><b>Amount</b></td>
                            <td>decimal</td>
                            <td>
                                Transaction Amount - user will not be
                                able to change amount so this will always
                                be same as in GeneratePartnerCode
                                method
                            </td>
                            <td>YES</td>
                        </tr>
                        <tr>
                            <td><b>CurrencyID</b></td>
                            <td>int</td>
                            <td>
                                Currency ID (e.g. 978) - user will not
                                be able to change currency so this will
                                always be same as in
                                GeneratePartnerCode method
                            </td>
                            <td>YES</td>
                        </tr>
                        <tr>
                            <td><b>AircashTransactionID</b></td>
                            <td>string</td>
                            <td>
                                Transaction ID in aircash system
                            </td>
                            <td>YES</td>
                        </tr>
                        <tr>
                            <td><b>Signature</b></td>
                            <td>string</td>
                            <td>
                                Signature by Aircash system confirming
                                that Aircash is sending request to the
                                partner system
                            </td>
                            <td>
                                YES
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </uib-tab>
        <uib-tab index="request-tab-1" heading="Request example" classes="nav-item">
            <jsonformatter data="aircashPay.confirmTransaction.requestExample"></jsonformatter>
        </uib-tab>
        <uib-tab index="request-tab-2" heading="Signature" classes="nav-item">
            <pre>
Request example:
</pre>
            <jsonformatter data="aircashPay.confirmTransaction.requestExample"></jsonformatter>
            <pre>

Sequence:
AircashTransactionID=122e5e33-b5fb-4398-b138-c60582b9fa2b&Amount=100&CurrencyID=978&PartnerID=8f62c8f0-7155-4c0e-8ebe-cd9357cfd1bf&PartnerTransactionID=ef52ca13-33b4-4564-8bca-0cbfc7c5a37d

Signature:
BnXksHubv6RDgTgcFRZXG14/ENhyh/WF/227wOMWo7nOUzuExpUFYC9qTMGCDEVeU1NDQEeBR7xNlk+WCxPjFOcP/kTB+BREwjegmw4Kw3ushg4i969sjWEF/tk72aJ15XKssnYpMRXnFAtMP71CSM9UW/lZ5oVla5h3uxGa6XkwpkD8ubXC6HiAK+WIvJzmHxvBYvma9qVNCA/iHudSM7JoMwP8a4Z2CEmR9XYDcZd5H6iurIQ5lw4TELjobvWioWWC/LNPH8KfFS95emPsff+XaIOYq//S1rhO7SB7UZSzEa/RwEJscnuD0tYHZBg4/RDmAFPasf5g7N4QmCkVcilgt7jutq5dyc3RSYS2kVAHfxUY4loeqgH2fAFjVe3XNPTUzmkcJMMqMRD1Gw+MWpHG7LNIZ6AE0IgGnC1piHdN8FXX0Sbg015MRDh704RmDObbqoiQ6oGjwIeFBFv3ZdEZUBlWvEOia609DBPc6Fu/u8hLsSoFG5i6sENBeby/CjYTQOymXYI44IU37EpAXnk7VtiNiynxt0FjZVBLOBrSLbFB+Wyo6brPcyn6iPUmB+D4XiTTXPzWC74mcfx9gC3msdXGdijM2OnB2T5l9KV/eUrUYrVo8cWvv00tvqJg8qPtEQTFF3O70uDSgUJVxkZVwmZ9slhRk3sH+gyHx1w=
</pre>
        </uib-tab>
        <uib-tab index="request-tab-3" heading="Response example" classes="nav-item">
            <p>
                Partner system should respond with HTTP response 200 OK in case of success. In case the partner
                system isn’t able to process the transaction, the partner system should respond with HTTP response
                code that isn’t 200 OK.
            </p>
        </uib-tab>
        <uib-tab index="request-tab-4" heading="Error response parameters" classes="nav-item">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><b>exitTransaction</b></td>
                            <td>bool</td>
                            <td>
                                If exitTransaction is set to true transaction won't be processed.
                            </td>
                        </tr>
                        <tr>
                            <td><b>errorCode</b></td>
                            <td>int</td>
                            <td>
                                Error code sent by partner, <b>0 must not be used!</b>
                            </td>
                        </tr>
                        <tr>
                            <td><b>errorMessage</b></td>
                            <td>string</td>
                            <td>
                                Error message sent by partner (Optional)
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </uib-tab>
        <uib-tab index="request-tab-5" heading="Error response example" classes="nav-item">
            <jsonformatter data="aircashPay.confirmTransaction.errorResponseExample"></jsonformatter>
        </uib-tab>
    </uib-tabset>
    <p>Aircash system will need a list of negative responses from partner system in order to map them in the system. In case the partner system responds negatively to this request, partner will need to send some unique error code. Those error codes need mapping in the Aircash system in order to display correct messages to the end user. Check Error response parameters and Error response example to see how it needs to be implemented.</p>
    <br />
    <hr />

</body>
</html>
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <div style="width: 100%">
        <h1>Frame V2 API</h1>
        <hr />
        <uib-tabset>
            <uib-tab index="checkUser1-tab-0" heading="Aircash pay" classes="nav-item">
                <h2>Aircash Pay</h2>
                <p>
                    This chapter describes the top up process using the Aircash application. The described
                    process explains how the user can transfer funds from the Aircash system to the partner's system.
                </p>
                <p>
                    The process consists of the following steps:
                </p>
                <ol>
                    <li>
                        The user selects Aircash as the deposit option and enters the amount he wants to deposit.
                    </li>
                    <li>
                        Partner’s system initiates the payment with the amount, currency, transaction id and other
                        mandatory parameters.
                    </li>
                    <li>
                        Aircash system responds with a URL to which user needs to be redirected
                    </li>
                    <li>
                        A user authorizes the payment via Aircash application (by scanning the QR code or confirming the
                        popped-up authorization screen)
                    </li>
                    <li>
                        Aircash system notifies partner’s system by sending notification to designated URL
                    </li>
                    <li>
                        The user is redirected back to the cashier
                    </li>
                </ol>
                <b>To download diagram flow for Aircash pay click here:</b>
                <a href="../../app/ac_frame/img/frame_acPay.svg" download rel="noopener noreferrer">
                    <button class="btn"><i class="fa fa-download"></i> Aircash Pay Diagram flow</button>
                </a>
            </uib-tab>
            <uib-tab index="checkUser1-tab-1" heading="Abon" classes="nav-item">
                <h2>Aircash Abon deposit</h2>
                <p>
                    Aircash Abon is a deposit method intended for users that wish to make
                    payments to their Online Provider accounts (betting sites, parking
                    services, GSM topups etc.) via paper coupons that can be bought at
                    cash registers, i.e. points of sale of Aircash Sales Partners (kiosks, gas
                    stations, etc.).
                </p>
                <p>
                    The process consists of the following steps:
                </p>

                <ol>
                    <li>
                        The user selects Abon as the deposit option.
                    </li>
                    <li>
                        Partner’s system initiates the payment with the currency, transaction id and other
                        mandatory parameters.
                    </li>
                    <li>
                        Aircash system responds with a URL to which user needs to be redirected.
                    </li>
                    <li>
                        Aircash frame is opened and user enters the 16-digit code from the coupon he bought
                        and confirms the transaction of funds to an Online Provider account.
                    </li>
                    <li>
                        Aircash system notifies partner’s system by sending notification to designated URL
                    </li>
                    <li>
                        Aircash panel redirects the user back to the success URL and partner’s system makes a top up to
                        the user’s account
                    </li>
                    <li>
                        The funds are deposited to the user's online account, and the coupon gets expended and can no
                        longer be used.
                    </li>
                </ol>

                <br />
                <h4>Checkbox – I accept Abon Terms & Conditions</h4>
                <p>
                    In order for the users to use Abon services on the Online Provider's website, they have to accept the
                    terms and conditions beforehand.
                </p>
                <p>
                    Every Online Provider is obliged to add a checkbox for the Abon terms and conditions, which is by
                    default always checked.
                </p>
                <p>
                    The checkbox has to contain a link to Abon Terms and Conditions:
                </p>
                <div class="note note-gray-400 col-md-8">
                    <div class="note-content">
                        <code>
                            &lta href="https://aircash.eu/terms-conditions/opci-uvjeti-poslovanja-a-bon-elektronicki-novac/" rel="nofollow"&gtI accept the Abon Terms&Conditions&lt/a&gt
                        </code>
                    </div>
                </div>
                <b>To download diagram flow for Abon click here:</b>
                <a href="../../app/ac_frame/img/frame_abon.svg" download rel="noopener noreferrer">
                    <button class="btn"><i class="fa fa-download"></i> Abon Diagram flow</button>
                </a>
            </uib-tab>
            <uib-tab index="checkUser1-tab-2" heading="Withdrawal" classes="nav-item">
                <h2>Aircash Payout</h2>
                <p style="text-align:justify">
                    This chapter describes the withdrawal process. The described process explains how the user can transfer assets from the Partner's system to the Aircash system.<br />
                </p>
                <p>
                    The process consists of the following steps:
                </p>
                <ol>
                    <li>
                        The user selects Aircash as the payout option and enters the amount he wants to withdraw.
                    </li>
                    <li>
                        Partner’s system initiates the payout with the amount, currency, transaction id and other
                        mandatory parameters.
                    </li>
                    <li>
                        Aircash system responds with a URL to which user needs to be redirected.
                    </li>
                    <li>
                        Aircash withdrawal form is displayed to the user.
                    </li>
                    <li>
                        A user enters mobile phone number to which he wants to make payout
                    </li>
                    <li>
                        Aircash will check wheather the user exists in the Aircash system.
                    </li>
                    <li>
                        If the user exists and all preriquiestes are met to receive the payout, Aircash will send a push notification to let the partner system know that the payout is ready to receive.
                    </li>
                    <li>
                        Partner system needs to check the status within the Aircash system by sending status request. If Aircash system responds with pending status, partner system can reserve the funds.
                    </li>
                    <li>
                        Once the reserved funds are ready to be confirmed (either mannualy, either automatically), partner system need to send finaal Confirmation request to Aircash system.
                    </li>
                    <li>
                        Upon recieving the confirmation request, Aircash system will top up the Aircash account.
                    </li>
                </ol>
            </uib-tab>
        </uib-tabset>
        <hr />
        <p>Methods called by partner system on the Aircash system:</p>
        <ul>
            <li>
                Initiate – POST method used to generate Aircash frame URL
            </li>
            <li>
                Status – POST method to validate the status of the transaction
            </li>
            <li>
                Confirm – POST method to confirm the transaction (only for the witdhrawal flow)
            </li>
        </ul>
        <p>Methods called by Aircash on the partner system</p>
        <ul>
            <li>
                The Partner should open one GET method to which Aircash will send notification about transaction status change.
            </li>
        </ul>
        <br />
        <p>In each method partner should send header Content-Type with value application/json</p>
        <br />
        <p>All Aircash methods have common behaviour in case of responses:</p>
        <ul>
            <li>
                In case of successful response Aircash system will return HTTP response 200 OK with JSON content
                in response.
            </li>
            <li>
                In case of server error Aircash system will return HTTP response 500 Server error
            </li>
            <li>
                In case of bad request Aircash system will return HTTP response 400 Bad request with json content
                about error
            </li>
            <li>
                In case of invalid partner ID or invalid signature, Aircash system will return 401 Unauthorized
            </li>
        </ul>

        <h4>Initiate</h4>
        <p>
            Method used to generate the link of the Aircash frame panel, using which the customer will proceed with the required steps of the payment process. In the tables below you can find additional information important for the correct integration of Aircash frame hosted payment page.
        </p>

        <i>Endpoints:</i>
        <div class="table-responsive">
            <table class="table  table-active col-md-6">
                <thead>
                    <tr>
                        <th>Environment</th>
                        <th>Method</th>
                        <th>URL</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><b>Test</b></td>
                        <td>
                            POST
                        </td>
                        <td>https://stage-frame-api.aircash.eu/api/v2/initiate</td>
                    </tr>
                    <tr>
                        <td><b>Production</b></td>
                        <td>
                            POST
                        </td>
                        <td>https://frame-api.aircash.eu/api/v2/initiate</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <br />
        <p>
            To receive the frame link, partner needs to send a POST request to the URL of a desired environment using parameters in the table below within the JSON request body.
        </p>
        <br />
        <uib-tabset active="active">
            <uib-tab index="request-tab-0" heading="Request parameters" classes="nav-item">
                <div class="table-responsive">
                    <table class="table  table-hover">
                        <thead>
                            <tr>
                                <th>Parameters</th>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Required</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><b>PartnerId</b></td>
                                <td>string</td>
                                <td>
                                    Unique partner identifier (per currency) provided by Aircash
                                </td>
                                <td>YES</td>
                            </tr>
                            <tr>
                                <td><b>PartnerUserId</b></td>
                                <td>string</td>
                                <td>
                                    Unique user identifier in the merchant’s system
                                </td>
                                <td>YES</td>
                            </tr>
                            <tr>
                                <td><b>PartnerTransactionId</b></td>
                                <td>string</td>
                                <td>
                                    Unique transaction id in partner’s system
                                </td>
                                <td>YES</td>
                            </tr>
                            <tr>
                                <td><b>Amount</b></td>
                                <td>decimal</td>
                                <td>
                                    Transaction amount
                                </td>
                                <td>YES, in case of Abon method there is no entry</td>
                            </tr>
                            <tr>
                                <td><b>CurrencyId</b></td>
                                <td>int</td>
                                <td>
                                    ISO-4217 currency code
                                </td>
                                <td>YES</td>
                            </tr>
                            <tr>
                                <td><b>PayType</b></td>
                                <td>int</td>
                                <td>
                                    Pay type identifier ( 0 - Payment; 1 - Payout )
                                </td>
                                <td>YES</td>
                            </tr>
                            <tr>
                                <td><b>PayMethod</b></td>
                                <td>int</td>
                                <td>
                                    Pay method identifier ( 0 - Abon; 2 - Aircash Pay; 10 - Aircash Payout )
                                </td>
                                <td>YES</td>
                            </tr>
                            <tr>
                                <td><b>NotificationUrl</b></td>
                                <td>string</td>
                                <td>
                                    URL to which notification after the authorization has been successfully completed.
                                </td>
                                <td>YES</td>
                            </tr>
                            <tr>
                                <td><b>SuccessUrl</b></td>
                                <td>string</td>
                                <td>
                                    Aircash frame redirects the customer back to the success URL if the payment is successful
                                </td>
                                <td>YES, conditonally</td>
                            </tr>
                            <tr>
                                <td><b>DeclineUrl</b></td>
                                <td>string</td>
                                <td>
                                    Aircash frame redirects the customer back to the decline URL in case payment failed
                                </td>
                                <td>YES, conditonally</td>
                            </tr>
                            <tr>
                                <td><b>CancelUrl</b></td>
                                <td>string</td>
                                <td>
                                    URL where the client will be redirected after manual transaction cancelation
                                </td>
                                <td>YES, conditonally</td>
                            </tr>
                            <tr>
                                <td><b>OriginUrl</b></td>
                                <td>string</td>
                                <td>
                                    Domain where your web application runs
                                </td>
                                <td>YES, conditonally</td>
                            </tr>
                            <tr>
                                <td><b>Locale</b></td>
                                <td>string</td>
                                <td>
                                    Language Identifiers (RFC 3066)
                                </td>
                                <td>YES</td>
                            </tr>
                            <tr>
                                <td><b>Signature</b></td>
                                <td>string</td>
                                <td>
                                    A sequence that has been digitally signed with the provider's private signature, used for authentication
                                </td>
                                <td>YES</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </uib-tab>
            <uib-tab index="request-tab-1" heading="Request example" classes="nav-item">
                <jsonformatter data="aircashFrameV2.initiate.requestExample"></jsonformatter>
            </uib-tab>
            
            <uib-tab index="request-tab-3" heading="Response parameters" classes="nav-item">
                <div class="table-responsive">
                    <table class="table  table-hover">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><b>URL</b></td>
                                <td>string</td>
                                <td>
                                    Url that needs to be opened within merchant's web
                                </td>
                            </tr>
                            <tr>
                                <td><b>Transaction ID</b></td>
                                <td>string</td>
                                <td>
                                    Id of the transaction in the Aircash system
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </uib-tab>
            <uib-tab index="request-tab-4" heading="200 OK response example" classes="nav-item">
                <jsonformatter data="aircashFrameV2.initiate.responseExample"></jsonformatter>
            </uib-tab>
            <uib-tab index="request-tab-5" heading="Error response messages" classes="nav-item">
                <div class="table-responsive">
                    <table class="table  table-hover">
                        <thead>
                            <tr>
                                <th>Http response</th>
                                <th>Description</th>
                                <th>Error Code</th>
                                <th>Message</th>
                                <th>Aditional data</th>
                                <th>Solution</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td rowspan="4"><b>400</b></td>
                                <td rowspan="4">An invalid request was made. The response will contain an error code, message and optionally additionalData.</td>
                                <td><b>1</b></td>
                                <td>Invalid ProviderId</td>
                                <td>-</td>
                                <td rowspan="4">
                                    Contact Aircash support
                                </td>
                            </tr>
                            <tr>
                                <td><b>3</b></td>
                                <td>Validation error</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><b>1004</b></td>
                                <td>Partner transaction already exists</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><b>3000</b></td>
                                <td>Invalid currency</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><b>401</b></td>
                                <td>In case the partner sends an unknown partner ID or invalid signature Aircash system will return this response</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>
                                    Check the parameters that are being sent according to the Aircash system. If they are all according to documentation please contact Aircash support
                                </td>
                            </tr>
                            <tr>
                                <td><b>500</b></td>
                                <td>An unknown error occured</td>
                                <td>-</td>
                                <td>Unknown error has occurred</td>
                                <td>-</td>
                                <td>
                                    Contact Aircash support
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </uib-tab>
            <uib-tab index="request-tab-6" heading="Error response example" classes="nav-item">
                <jsonformatter data="aircashFrameV2.initiate.errorResponseExample"></jsonformatter>
            </uib-tab>
            <uib-tab index="request-tab-8" heading="Try it out" classes="nav-item">
                <div class="row">
                    <div class="col-md-3" style="border:1px; border-color: #6c757d;  border-radius: 8px; padding:10px">
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" ng-value="0" ng-model="initiateModelSelected" ng-change="setInititateModel(this)" name="inlineRadio">
                            <label class="form-check-label" for="inlineRadio1">Aircash payment</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" ng-value="1" ng-model="initiateModelSelected" ng-change="setInititateModel(this)" name="inlineRadio">
                            <label class="form-check-label" for="customRadio2">Abon deposit</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" ng-value="2" ng-model="initiateModelSelected" ng-change="setInititateModel(this)" name="inlineRadio">
                            <label class="form-check-label" for="customRadio2">Aircash withdrawal</label>
                        </div>
                        <form action="/" method="POST" name="initiateForm">
                            <fieldset>
                                <div class="mb-3" ng-hide="initiateModelSelected == 1">
                                    <label class="form-label" for="exampleInputEmail1">Amount</label>
                                    <input ng-model="initiateModel.amount" type="number" min="0" step="0.01" class="form-control" ng-required="true" name="amount">
                                </div>
                                <button ng-click="initiateRedirectCheckout()" class="btn btn-primary w-100px me-5px" ng-disabled="initiateBusy || initiateForm.$invalid">
                                    <i ng-if="initiateModelSelected == 0 || initiateModelSelected == 1">DEPOSIT </i>
                                    <i ng-if="initiateModelSelected == 2">PAYOUT </i>
                                    <i ng-if="initiateBusy" class="fa fa-cog fa-spin"></i>
                                </button>
                            </fieldset>
                        </form>
                    </div>
                    <br />
                    <div ng-if="initiateResponded" class="col-md-4">
                        Request ({{InitiateRequestDateTimeUTC | date:'yyyy-MM-dd HH:mm:ss.sss'}})
                        <jsonformatter data="InitiateServiceRequest"></jsonformatter>
                        Sequence: {{sequenceInitiate}}
                    </div>
                    <div ng-if="initiateResponded" class="col-md-5">
                        Response ({{InitiateResponseDateTimeUTC | date:'yyyy-MM-dd HH:mm:ss.sss'}})
                        <jsonformatter data="InitiateServiceResponse"></jsonformatter>
                    </div>
                </div>
            </uib-tab>
        </uib-tabset>
        <br />
        <h4>Notification</h4>
        <p>
            After transaction is processed, Aircash system will send notification to the NotificationUrl provided within the initiate request.
        </p>
        <p>
            Notification example (HTTP GET):
        </p>
        <div class="note note-gray-400 col-md-6">
            <div class="note-content">
                <code>{NotificationUrl}?partnerTransactionId={partnerTransactionId}</code>
            </div>
        </div>
        <br />
        <p>
            If NotificationUrl already contains query parameters, Aircash system will add partnerTransactionId paramter at the end of the URL:
        </p>
        <div class="note note-gray-400 col-md-6">
            <div class="note-content">
                <code>https://api.partner.com?param=true&partnerTransactionId={partnerTransactionId}</code>
            </div>
        </div>
        <br />
        <h4>Transaction status</h4>
        <p>
            Method that’s used to check the transaction status in Aircash system. Using this method partner needs check the status of the transaction before completing the payment.
        </p>
        <i>Endpoints:</i>
        <div class="table-responsive">
            <table class="table  table-active col-md-6">
                <thead>
                    <tr>
                        <th>Environment</th>
                        <th>Method</th>
                        <th>URL</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><b>Test</b></td>
                        <td>
                            POST
                        </td>
                        <td>https://stage-frame-api.aircash.eu/api/v1/status</td>
                    </tr>
                    <tr>
                        <td><b>Production</b></td>
                        <td>
                            POST
                        </td>
                        <td>https://frame-api.aircash.eu/api/v1/status</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <br />
        <i>Aircash public keys:</i>
        <div class="table-responsive">
            <table class="table  table-active col-md-2">
                <thead>
                    <tr>
                        <th>Environment</th>
                        <th>Download</th>
                    </tr>
                </thead>
                <tr>
                    <td><b>Test</b></td>
                    <td><a href="/files/AircashFramePublicKeyTest.zip" download>Link</a></td>
                </tr>
                <tr>
                    <td><b>Production</b></td>
                    <td><a href="/files/AircashFramePublicKeyProd.zip" download>Link</a></td>
                </tr>
            </table>
        </div>
        <br />
        <uib-tabset>
            <uib-tab index="request-tab-0" heading="Request parameters" classes="nav-item">
                <div class="table-responsive">
                    <table class="table  table-hover">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><b>PartnerID</b></td>
                                <td>string</td>
                                <td>
                                    Unique partner identifier (per currency) provided by Aircash
                                </td>
                            </tr>
                            <tr>
                                <td><b>PartnerTransactionId</b></td>
                                <td>string</td>
                                <td>
                                    Unique transaction id in partner’s system
                                </td>
                            </tr>
                            <tr>
                                <td><b>Signature</b></td>
                                <td>string</td>
                                <td>
                                    A sequence that has been digitally signed with the provider's private signature, used for authentication
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </uib-tab>
            <uib-tab index="request-tab-1" heading="Request example" classes="nav-item">
                <jsonformatter data="aircashFrameV2.transactionStatus.requestExample"></jsonformatter>
            </uib-tab>
            <uib-tab index="request-tab-2" heading="Signature" classes="nav-item">
                <pre>
Request example:
</pre>
                <jsonformatter data="aircashFrameV2.transactionStatus.requestExample"></jsonformatter>
<pre>

Sequence: 
PartnerId=8f62c8f0-7155-4c0e-8ebe-cd9357cfd1bf&PartnerTransactionId=1a74bb41-36fe-4493-9ccf-30879b994766

Signature:
dUrE4gtau5lkvElOK+yHIWToEQ3U8sYjdf472f7IIjiPZ/EOSC1EJw/p/IKRXVyJ/+6vPqzVpyg6lxzUD82VwiLZ//gw8XJ5DLoMzud/34vzQS3MiubD1c/Sw9rWJlXm1wJW+cOgUYtz4GwnU2iViWlYcpzpCSeBB8Z4gbKPR1tDKjvXR2mSO+HQBSeUVRQHKY4rXse1lzJHsKqyQi8I3WoyPLdmUv/fUHuhBLSFbg+yEuazRJhWYhv561Zt0bIemGAsei80cnUU8TOxCZoaQQ9M+h0uWdS7i1OX92iauysj1wENKpcS+JMJxQh4YUgLvOXtoh8boYnNITYQiLy2fTA9hH/nJKiRAb/lMalXqw9r2/E574IHrC26QNEFreui0whQas7GsT37+RtrgRcwP6R59UOn+ZEC05BOoMPXhzvcTgspLOTciFEL5goVt9n2AjUOt8rX2hUvNcpnFDwgTlPyNaUTs5LYhm/qP279Cn6hhrlCilcM8BwBWfCORD3Y5y5MH+B+MaUGIgF7toJh8wCaCUVV+Bd5lPNcrpInz5hmGb3kNz2cbz+ao6HdNcMxNRbvC6ahdx5H+MN4Q7d9quiyczrnE1tqO9stuqgkUT8QcG0bj/x1E97Fx4ehpB6b0aOe/H3Cs5ZoKOmeOf6xiE0pCtPELq11pv96NMUUyGI=
                </pre>
            </uib-tab>
            <uib-tab index="request-tab-3" heading="Response parameters" classes="nav-item">
                <div class="table-responsive">
                    <table class="table  table-hover">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><b>Status</b></td>
                                <td>int</td>
                                <td>
                                    Transaction status, 1 – declined, 2 - success
                                </td>
                            </tr>
                            <tr>
                                <td><b>Amount</b></td>
                                <td>decimal</td>
                                <td>
                                    Transaction amount
                                </td>
                            </tr>
                            <tr>
                                <td><b>Currency</b></td>
                                <td>int</td>
                                <td>
                                    ISO-4217 currency code
                                </td>
                            </tr>
                            <tr>
                                <td><b>AircashTransactionId</b></td>
                                <td>string</td>
                                <td>
                                    Unique transaction id in the Aircash system
                                </td>
                            </tr>
                            <tr>
                                <td><b>Signature</b></td>
                                <td>string</td>
                                <td>
                                    A sequence that has been digitally signed with the Aircash private key.
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </uib-tab>
            <uib-tab index="request-tab-4" heading="200 OK response example" classes="nav-item">
                <jsonformatter data="aircashFrameV2.transactionStatus.responseExample"></jsonformatter>
            </uib-tab>
            <uib-tab index="request-tab-5" heading="Error response messages" classes="nav-item">
                <div class="table-responsive">
                    <table class="table  table-hover">
                        <thead>
                            <tr>
                                <th>Http response</th>
                                <th>Description</th>
                                <th>Error Code</th>
                                <th>Message</th>
                                <th>Aditional data</th>
                                <th>Solution</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td rowspan="4"><b>400</b></td>
                                <td rowspan="4">An invalid request was made. The response will contain an error code, message and optionally additionalData.</td>
                                <td><b>1</b></td>
                                <td>Invalid signature or partner id</td>
                                <td>-</td>
                                <td rowspan="4">
                                    Contact Aircash support
                                </td>
                            </tr>
                            <tr>
                                <td><b>3</b></td>
                                <td>Validation error</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><b>1003</b></td>
                                <td>Transaction does not exist</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><b>1003</b></td>
                                <td>Transaction not processed</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><b>401</b></td>
                                <td>In case the partner sends an unknown partner ID or invalid signature Aircash system will return this response</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>
                                    Check the parameters that are being sent according to the Aircash system. If they are all according to documentation please contact Aircash support
                                </td>
                            </tr>
                            <tr>
                                <td><b>500</b></td>
                                <td>An unknown error occured</td>
                                <td>-</td>
                                <td>Unknown error has occurred</td>
                                <td>-</td>
                                <td>
                                    Contact Aircash support
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </uib-tab>
            <uib-tab index="request-tab-6" heading="Error response example" classes="nav-item">
                <jsonformatter data="aircashFrameV2.transactionStatus.errorResponseExample"></jsonformatter>
            </uib-tab>
            <uib-tab index="request-tab-7" heading="Try it out" classes="nav-item" style="display:none">
                <div class="row">
                    <div class="col-md-4">
                        <p>Recent transactions:</p>
                        <div>
                            <div class="table-responsive">
                                <table class="table  table-bordered table-striped table-condensed">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>Transaction ID</th>
                                            <th>Amount</th>
                                            <th>Check status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-if="totalLoaded == 0 && !busy">
                                            <td colspan="12" align="center">
                                                <i>No data</i>
                                            </td>
                                        </tr>
                                        <tr ng-repeat="transaction in transactions">
                                            <td>{{$index + 1}}.</td>
                                            <td>{{transaction.partnerTransactionId}}</td>
                                            <td>{{transaction.amount | number:2}}</td>
                                            <td style="text-align: center; vertical-align: inherit">
                                                <button class="btn btn-primary fa fa-check" ng-click="transactionStatus(transaction.partnerTransactionId)"><i class="fa fa-remove"></i></button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <load-more total-loaded="totalLoaded" out="loadMore"></load-more>
                        </div>
                    </div>
                    <br />
                    <div ng-if="statusResponded" class="col-md-4">
                        Request ({{StatusRequestDateTimeUTC | date:'yyyy-MM-dd HH:mm:ss.sss'}})
                        <jsonformatter data="StatusServiceRequest"></jsonformatter>
                        Sequence: {{sequenceStatus}}
                    </div>
                    <div ng-if="statusResponded" class="col-md-4">
                        Request ({{StatusResponseDateTimeUTC | date:'yyyy-MM-dd HH:mm:ss.sss'}})
                        <jsonformatter data="StatusServiceResponse"></jsonformatter>
                    </div>
                </div>
            </uib-tab>
        </uib-tabset>
    </div>



    <h4>Confirm transaction</h4>
    <p>
        Method that’s used only in the withdrawal/payout flow. Once the funds are ready to be withdrawn from the user's account, partner system need to send confirmation request.
    </p>
    <i>Endpoints:</i>
    <div class="table-responsive">
        <table class="table  table-active col-md-6">
            <thead>
                <tr>
                    <th>Environment</th>
                    <th>Method</th>
                    <th>URL</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><b>Test</b></td>
                    <td>
                        POST
                    </td>
                    <td>https://stage-frame-api.aircash.eu/api/v2/confirm</td>
                </tr>
                <tr>
                    <td><b>Production</b></td>
                    <td>
                        POST
                    </td>
                    <td>https://frame-api.aircash.eu/api/v2/confirm</td>
                </tr>
            </tbody>
        </table>
    </div>
    <br />
    <uib-tabset>
        <uib-tab index="request-tab-0" heading="Request parameters" classes="nav-item">
            <div class="table-responsive">
                <table class="table  table-hover">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><b>PartnerId</b></td>
                            <td>string</td>
                            <td>
                                Unique partner identifier provided by Aircash
                            </td>
                        </tr>
                        <tr>
                            <td><b>PartnerTransactionId</b></td>
                            <td>string</td>
                            <td>
                                Unique transaction id in partner’s system
                            </td>
                        </tr>
                        <tr>
                            <td><b>Amount</b></td>
                            <td>decimal</td>
                            <td>
                                Transaction amount
                            </td>
                        </tr>
                        <tr>
                            <td><b>CurrencyId</b></td>
                            <td>int</td>
                            <td>
                                ISO-4217 currency code
                            </td>
                        </tr>
                        <tr>
                            <td><b>Signature</b></td>
                            <td>string</td>
                            <td>
                                A sequence that has been digitally signed with the provider's private signature, used for authentication
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </uib-tab>
        <uib-tab index="request-tab-1" heading="Request example" classes="nav-item">
            <jsonformatter data="aircashFrameV2.confirm.requestExample"></jsonformatter>
        </uib-tab>
        <uib-tab index="request-tab-2" heading="Signature" classes="nav-item" style="display:none">
            <pre>
Request example:
</pre>
            <jsonformatter data="aircashFrameV2.confirm.requestExample"></jsonformatter>
<pre>

Sequence: 
PartnerId=8f62c8f0-7155-4c0e-8ebe-cd9357cfd1bf&PartnerTransactionId=1a74bb41-36fe-4493-9ccf-30879b994766

Signature:
dUrE4gtau5lkvElOK+yHIWToEQ3U8sYjdf472f7IIjiPZ/EOSC1EJw/p/IKRXVyJ/+6vPqzVpyg6lxzUD82VwiLZ//gw8XJ5DLoMzud/34vzQS3MiubD1c/Sw9rWJlXm1wJW+cOgUYtz4GwnU2iViWlYcpzpCSeBB8Z4gbKPR1tDKjvXR2mSO+HQBSeUVRQHKY4rXse1lzJHsKqyQi8I3WoyPLdmUv/fUHuhBLSFbg+yEuazRJhWYhv561Zt0bIemGAsei80cnUU8TOxCZoaQQ9M+h0uWdS7i1OX92iauysj1wENKpcS+JMJxQh4YUgLvOXtoh8boYnNITYQiLy2fTA9hH/nJKiRAb/lMalXqw9r2/E574IHrC26QNEFreui0whQas7GsT37+RtrgRcwP6R59UOn+ZEC05BOoMPXhzvcTgspLOTciFEL5goVt9n2AjUOt8rX2hUvNcpnFDwgTlPyNaUTs5LYhm/qP279Cn6hhrlCilcM8BwBWfCORD3Y5y5MH+B+MaUGIgF7toJh8wCaCUVV+Bd5lPNcrpInz5hmGb3kNz2cbz+ao6HdNcMxNRbvC6ahdx5H+MN4Q7d9quiyczrnE1tqO9stuqgkUT8QcG0bj/x1E97Fx4ehpB6b0aOe/H3Cs5ZoKOmeOf6xiE0pCtPELq11pv96NMUUyGI=
                </pre>
        </uib-tab>
        <uib-tab index="request-tab-3" heading="Response parameters" classes="nav-item">
            <div class="table-responsive">
                <table class="table  table-hover">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><b>AircashTransactionId</b></td>
                            <td>string</td>
                            <td>
                                Unique transaction id in the Aircash system
                            </td>
                        </tr>
                       
                    </tbody>
                </table>
            </div>
        </uib-tab>
        <uib-tab index="request-tab-4" heading="200 OK response example" classes="nav-item">
            <jsonformatter data="aircashFrameV2.confirm.responseExample"></jsonformatter>
        </uib-tab>
        <uib-tab index="request-tab-5" heading="Error response messages" classes="nav-item">
            <div class="row">
                <div class="col-md-12">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Http response</th>
                                    <th>Description</th>
                                    <th>Error Code</th>
                                    <th>Message</th>
                                    <th>Aditional data</th>
                                    <th>Solution</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td rowspan="4"><b>400</b></td>
                                    <td rowspan="4">An invalid request was made. The response will contain an error code, message and optionally additionalData.</td>
                                    <td>4000</td>
                                    <td>Unknown transaction</td>
                                    <td>-</td>
                                    <td rowspan="6">
                                        Contact Aircash support
                                    </td>
                                </tr>
                                <tr>
                                    <td>4001</td>
                                    <td>Transaction already confirmed</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>4002</td>
                                    <td>Amount does not match</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>4003</td>
                                    <td>User reached transaction limit or user is blocked</td>
                                    <td>-</td>

                                </tr>

                                <tr>
                                    <td><b>401</b></td>
                                    <td>In case the partner sends an unknown partner ID or invalid signature Aircash system will return this response</td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>
                                        Check the parameters that are being sent according to the Aircash system. If they are all according to documentation please contact Aircash support
                                    </td>
                                </tr>
                                <tr>
                                    <td><b>500</b></td>
                                    <td>An unknown error occured</td>
                                    <td>-</td>
                                    <td>An error has occurred.</td>
                                    <td>-</td>
                                    <td>
                                        Contact Aircash support
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </uib-tab>
        
    </uib-tabset>
    </div>



    <hr />
    <h2>SDK</h2>
    <h4>General</h4>
    <p>
        There are two ways to integrate with Aircash Frame; Window Checkout and Redirect Checkout. Each of them will be described in its own section,
        including the required parameters and how to use the script after initiating. To use the Aircash Frame checkout script, the partner’s system
        must include a minified Javascript file on the web application. The partner's system is also responsible to ensure that script is loaded before
        calling any of the functions in it. This is an example how to load/include script:
    </p>
    <uib-tabset>
        <uib-tab index="checkUser1-tab-2" heading="Withdrawal" classes="nav-item" style="display:none">
            <pre>
<code>< script src="https://firebasestorage.googleapis.com/v0/b/aircash-dev/o/Frame%2Fjs%2Faircashframe-sdk-web.min.js?alt=media">< /script></code>
</pre>
        </uib-tab>
    </uib-tabset>
    <p>
        Aircash will provide a link to the script additionally.
    </p>
    <h4>Integration types</h4>
    <h5>Window Checkout</h5>
    <p>
        This integration type offers you a solution where, with a few passed parameters to Aircash Frame SDK, script opens a new window with Aircash Frame
        in it. After finishing the transaction it will close and handle the rest of the process for you.
        Below are the required parameters for initiating a transaction:
    </p>
    <uib-tabset>
        <uib-tab index="checkUser1-tab-2" heading="Withdrawal" classes="nav-item" style="display:none">
            <pre>
<code>  {</code>
<code>      ... //rest of the parameters for API v2</code>
<code>      "successUrl": null,                                     //this must be 'null' when using this type of checkout</code>
<code>      "declineUrl": null,                                     //this must be 'null' when using this type of checkout</code>
<code>      "cancelUrl": null,                                      //this must be 'null' when using this type of checkout</code>
<code>      "originUrl": "https://domain.com",                      //this must be domain where your web application runs Aircash Frame SDK</code>
<code>      ... //rest of the parameters for API v2</code>
<code>  }</code>
</pre>
        </uib-tab>
    </uib-tabset>
    <p>
        After a successful transaction initiate Aircash Frame will return the following response:
    </p>
    <uib-tabset>
        <uib-tab index="checkUser1-tab-2" heading="Withdrawal" classes="nav-item" style="display:none">
            <pre>
<code>  {</code>
<code>      "transactionId": "c125ba7d-afb5-4ce5-ac3c-33af420200cf",</code>
<code>      "url": "https://frame.aircash.eu/c125ba7d-afb5-4ce5-ac3c-33af420200cf"</code>
<code>  }</code>
</pre>
        </uib-tab>
    </uib-tabset>
    <p>
        When the partner's system gets a response from Aircash Frame it's necessary to call the SDK function which
        can be done as in the following example:
    </p>
    <uib-tabset>
        <uib-tab index="checkUser1-tab-2" heading="Withdrawal" classes="nav-item" style="display:none">
            <pre>
<code>  new AircashFrame.WindowCheckout({</code>
<code>      transactionId: response.transactionId,                  //this is a "TransactionId" parameter from the Aircash Frame system response</code>
<code>      onSuccess: onSuccess,                                   //a function that's needed to be defined in the partner's system, it's called after successful transaction</code>
<code>      onDecline: onDecline,                                   //a function that's needed to be defined in the partner's system, it's called after declined transaction</code>
<code>      onCancel: onCancel,                                     //a function that's needed to be defined in the partner's system, it's called after transaction cancel by user through an 'x' button in the AC Frame</code>
<code>      originUrl: "https://yourwebclientapplication.com",      //partner's system web application domain, this is where is SDK loaded from</code>
<code>      debug: true,                                            //optional parameter, send 'true' if you want a debugging logs in the browser console</code>
<code>      environment: "staging"                                  //default parameter if not sent, possible values are: localhost, development, staging and production</code>
<code>  });</code>
</pre>
        </uib-tab>
    </uib-tabset>
    <p>
        It's recommended but not mandatory that onSuccess, onDecline and onCancel functions support receiving JSON
        object as the Aircash Frame system on calling these functions will send a JSON object with details of the
        transaction. An example of the payload is below:
    </p>
    <uib-tabset>
        <uib-tab index="checkUser1-tab-2" heading="Withdrawal" classes="nav-item" style="display:none">
            <pre>
<code>  {</code>
<code>      "amount": 100.0,</code>
<code>      "currencyId": 191                                       //ISO-4217 currency code</code>
<code>  }</code>
</pre>
        </uib-tab>
    </uib-tabset>
    <p>
        In case of user closes window by pressing 'close' button in browser, onCancel function is called with the following payload:
    </p>
    <uib-tabset>
        <uib-tab index="checkUser1-tab-2" heading="Withdrawal" classes="nav-item" style="display:none">
            <pre>
<code>  {</code>
<code>      "byUser": true</code>
<code>  }</code>
</pre>
        </uib-tab>
    </uib-tabset>

    <hr />
    <h5>Redirect Checkout</h5>
    <p>
        This integration type offers you a simple checkout solution where, with a few passed parameters, a client will be fully redirected to
        the Aircash Frame system and after finishing the transaction, Frame system will redirect to one of the predefined URLs depending on
        transaction status. Below are the required parameters for initiating a transaction:
    </p>
    <uib-tabset>
        <uib-tab index="checkUser1-tab-2" heading="Withdrawal" classes="nav-item" style="display:none">
            <pre>
<code>  {</code>
<code>      ... //rest of the parameters for API v2</code>
<code>      "successUrl": "https://domain.com/success",             //this is the URL where the client will be redirected after successfull transaction</code>
<code>      "declineUrl":"https://domain.com/decline",              //this is the URL where the client will be redirected after declined transaction</code>
<code>      "cancelUrl":"https://domain.com/cancel",                //this is the URL where the client will be redirected after manual transaction cancelation</code>
<code>      "originUrl": null,                                      //this must be 'null' when using this type of checkout</code>
<code>      ... //rest of the parameters for API v2</code>
<code>  }</code>
</pre>
        </uib-tab>
    </uib-tabset>
    <p>
        After a successful transaction initiate Aircash Frame will return the following response:
    </p>
    <uib-tabset>
        <uib-tab index="checkUser1-tab-2" heading="Withdrawal" classes="nav-item" style="display:none">
            <pre>
<code>  {</code>
<code>      "transactionId": "c125ba7d-afb5-4ce5-ac3c-33af420200cf",</code>
<code>      "url": "https://frame.aircash.eu/c125ba7d-afb5-4ce5-ac3c-33af420200cf"</code>
<code>  }</code>
</pre>
        </uib-tab>
    </uib-tabset>
    <p>
        When the partner's system gets a response from Aircash Frame it's necessary to call the SDK function
        which can be done as in the following example:
    </p>
    <uib-tabset>
        <uib-tab index="checkUser1-tab-2" heading="Withdrawal" classes="nav-item" style="display:none">
            <pre>
<code>  new AircashFrame.RedirectCheckout({</code>
<code>      transactionId: response.transactionId,                  //this is a "TransactionId" parameter from the Aircash Frame system response</code>
<code>      debug: true,                                            //optional parameter, send 'true' if you want a debugging logs in the browser console</code>
<code>      environment: "staging"                                  //default parameter if not sent, possible values are: localhost, development, staging and production</code>
<code>  });</code>
</pre>
        </uib-tab>
    </uib-tabset>
    <p>
        Now, the client will be fully redirected to the Aircash Frame and after finishing the transaction it
        will be returned (redirected) to one of the URLs defined by the partner's system on transaction initiation.
    </p>

    <!-- #modal-dialog -->
    <div class="modal fade" id="frameModal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Aircash Frame</h4>
                </div>
                <div class="modal-body" align="center">
                    <iframe src="{{frameUrl | trusted}}" title="Aircash Frame" width="450px" height="700px" frameborder="0"></iframe>
                </div>
                <div class="modal-footer">
                    <a href="javascript:;" class="btn btn-white" data-dismiss="modal">Close</a>
                </div>
            </div>
        </div>
    </div>
</body>
</html>